server_name: "matrix.cluster.netbird.selfhosted"
pid_file: /data/homeserver.pid
listeners:
  - port: 8008
    tls: false
    type: http
    x_forwarded: true
    resources:
      - names: [client, federation]
        compress: false
database:
  name: psycopg2
  args:
    user: ${POSTGRES_USERNAME}
    password: "${POSTGRES_PASSWORD}"
    dbname: ${POSTGRES_DB}
    host: ${POSTGRES_SERVER}
    cp_min: 5
    cp_max: 10
log_config: "/data/matrix.cluster.netbird.selfhosted.log.config"
media_store_path: /data/media_store
registration_shared_secret: "${REGISTRATION_SHARED_SECRET}"
report_stats: true
macaroon_secret_key: "${MACAROON_SECRET_KEY}"
form_secret: "${FORM_SECRET}"
signing_key_path: "/signing/matrix.cluster.netbird.selfhosted.signing.key"
trusted_key_servers:
  - server_name: "matrix.org"
app_service_config_files:
  - /data/discord-registration.yaml
