{
  "extends": [
    "config:base"
  ],
  "packageRules": [
    {
      "matchPaths": ["flux-system/"],
      "enabled": false
    }
  ],
  "regexManagers": [
    {
      "description": "Update Helm chart versions in HelmRelease files",
      "fileMatch": [
        "^cluster/.*(release|repository)\\.yaml$"
      ],
      "matchStrings": [
        "version:\\s*[\"'](?<currentValue>[^\"']+)[\"']"
      ],
      "datasourceTemplate": "helm",
      "depNameTemplate": "Flux Helm chart"
    },
    {
      "description": "Update Docker image tags in Kubernetes manifests",
      "fileMatch": [
        "^cluster/.*\\.yaml$"
      ],
      "matchStrings": [
        "image:\\s*(?<depName>[^:\\s]+)(?::(?<currentValue>[^\\s]+))?"
      ],
      "datasourceTemplate": "docker"
    }
  ]
}