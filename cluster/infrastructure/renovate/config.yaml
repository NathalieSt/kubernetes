apiVersion: v1
kind: ConfigMap
metadata:
  name: renovate-config
  namespace: renovate  
data:
  config.js: |
    module.exports = {
      platform: 'gitea',
      endpoint: 'https://codeberg.org',
      repositories: ['NathalieStiefsohn/kubernetes'],
      gitAuthor: "Renovate Bot",
      hostRules: [
        {
          matchHost: 'codeberg.org',
          concurrentRequestLimit: 1  # Critical for Codeberg's rate limits
        }
      ],
      onboarding: true,  # Let Renovate create a PR with its config
      autodiscover: false  # Disable if you only want explicit repos
    }
