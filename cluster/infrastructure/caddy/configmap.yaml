---
apiVersion: v1
kind: ConfigMap
metadata:
  name: caddy-configmap
data:
  Caddyfile: |-
    
    vault.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    }
    		
    perses.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    }
    		
    jellyfin.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    	@websockets {
    		header Connection *Upgrade*
    		header Upgrade    websocket
    	}
    	reverse_proxy @websockets 10.43.164.134:80 {
    		header_up Host {host}
    	}
    		
    }
    		
    code.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    }
    		
    glance.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    }
    		
    dawarich.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    }
    		
    kiali.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    }
    		
    mealie.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    }
    		
    searxng.cluster.netbird.selfhosted:443 {
    	tls internal
    	reverse_proxy 10.43.164.134:80 {
    		header_up Host {host}
    		
    	}
    	
    }
    		
