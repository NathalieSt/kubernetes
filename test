backend:
  additionalContainers:
    netbird-agent:
      env:
        - name: NB_SETUP_KEY
          valueFrom:
            secretKeyRef:
              key: setup-key
              name: netbird-setup-key-vault-secret
        - name: NB_MANAGEMENT_URL
          value: https://netbird.nathalie-stiefsohn.eu
      image: netbirdio/netbird:latest
      name: netbird-agent
      resources:
        limits:
          cpu: 100m
          memory: 128Mi
        requests:
          cpu: 50m
          memory: 64Mi
      securityContext:
        privileged: true
  config:
    API_URL: https://piped-backend.cloud.nathalie-stiefsohn.eu
    FRONTEND_URL: https://piped.cloud.nathalie-stiefsohn.eu
    PROXY_PART: https://piped-ytproxy.cloud.nathalie-stiefsohn.eu
    database:
      connection_url: jdbc:postgresql://postgres-rw.postgres.svc.cluster.local:5432/piped
      dialect: org.hibernate.dialect.PostgreSQLDialect
      driver_class: org.postgresql.Driver
controller:
  enabled: true
frontend:
  enabled: false
ingress:
  backend:
    enabled: true
  main:
    enabled: true
  ytproxy:
    enabled: true
ytproxy:
  enabled: false
---
backend:
  enabled: false
frontend:
  additionalContainers:
    netbird-agent:
      env:
        - name: NB_SETUP_KEY
          valueFrom:
            secretKeyRef:
              key: setup-key
              name: netbird-setup-key-vault-secret
        - name: NB_MANAGEMENT_URL
          value: https://netbird.nathalie-stiefsohn.eu
      image: netbirdio/netbird:latest
      name: netbird-agent
      resources:
        limits:
          cpu: 100m
          memory: 128Mi
        requests:
          cpu: 50m
          memory: 64Mi
      securityContext:
        privileged: true
  config:
    BACKEND_HOSTNAME: piped-backend.cloud.nathalie-stiefsohn.eu
    PROXY_PART: https://piped-ytproxy.cloud.nathalie-stiefsohn.eu
  podSecurityContext:
    runAsUser: 0
ingress:
  backend:
    enabled: true
  main:
    enabled: true
  ytproxy:
    enabled: true
ytproxy:
  enabled: false
